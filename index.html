<!DOCTYPE html>
<html lang="en">
<head>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap" rel="stylesheet">
<meta charset="UTF-8">
<title>Polynomial Solver</title>
<link rel="stylesheet" href="style.css">
<link rel="icon" type="image/x-icon" href="images/favicon.ico">

<!-- MathJax -->
<script>
window.MathJax = {
    tex: { inlineMath: [['$', '$'], ['\\(', '\\)']]},
    output: {
    displayOverflow: 'linebreak',  // break long lines
    linebreaks: {                  // options for when overflow is linebreak
      inline: true,                   // true for browser-based breaking of in-line equations
      width: '100%',                  // a fixed size or a percentage of the container width
      lineleading: .2,                // the default lineleading in em units
      LinebreakVisitor: null,         // The LinebreakVisitor to use
    }},
    options: {
      enableMenu: true,
      menuOptions: {
        settings: {
          semantics: false,
          zoom: 'Click',
        }
      }
    },
    svg: { fontCache: 'global' }
};
</script>
<script defer src="https://cdn.jsdelivr.net/npm/mathjax@4/tex-svg.js"></script>

<!-- Pyodide -->
<script src="https://cdn.jsdelivr.net/pyodide/v0.24.1/full/pyodide.js"></script>

<!-- Plotly.js -->
<script src="https://cdn.plot.ly/plotly-3.1.0.min.js" charset="utf-8"></script>

<!-- Main script -->
 <script src="maths.js"></script>

</head>
<body>

<div id="js-detector"><p style="color: red; font-size: xx-large; font-weight: bolder;">ENABLE JAVASCRIPT YOU FOOL!</p></div>
<script>
  document.getElementById("js-detector").innerHTML = ""
</script>

<button id="theme" onclick=changeColour() style="align-content: right; width: 100pt; float:right">Dark mode</button>
<img id="banner" src="images/banner.png" style="width:60%;align-items: center; display: block;margin-left: 20%;margin-right: 20%;">



<div class="equationbox" id="equationbox">

<label>Enter equation:<br></label>
<input id="box" placeholder="e.g. x^2 - 2x + 1"></input>
<label style="font-size: 8pt;"><br><strong>Do not enter anything that isn't a mathematical equation into this box! </strong>While the input is sanitised, any code that you put in this box will run <strong>on your computer </strong>as computations occur in your browser.</label>
<p></p>


<div class="commandbox">
<label>Select command:<br></label>
<select id="command">
    <option value="solve" data-expl="Solves an equation symbolically (in exact terms). Use 'Solve Numerically' if you want a numeric (decimal) solution. Complex roots supported. Use 'Evaluate' if you just want to evaluate an expression (without any variables)">Solve</option>
    <option value="solvenumeric" data-expl="Solves an equation and returns a decimal number. Use 'Solve Symbolically' for an exact solution.">Solve Numerically</option>
    <option value="evaluate" data-expl="Evaluates an expression (no variables) and gives a numeric solution. Use 'simplify' if you want a symbolic solution.">Evaluate</option>
    <option value="factor" data-expl="Factorises a polynomial.">Factorise</option>
    <option value="diff" data-expl="Finds the derivative (rate of change) of a function symbolically (in terms of x)">Differentiate</option>
    <option value="integrate" data-expl="Integrates a function symbolically (in terms of x)">Integrate</option>
    <option value="simplify" data-expl="Simplifies an equation if possible. If you wish to factorise a polynomial, use 'factorise' instead.">Simplify</option>
    <option value="expand" data-expl="Expands brackets.">Expand</option>
    <option value="graph" data-expl="Plots a function on a simple interactive graph, with y equalling the equation at x. Do not include y= in your equation.">Graph</option>
</select>
<p id="explanation" class="commandinfo">Solves an equation symbolically (in exact terms). Use 'Solve Numerically' if you want a numeric (decimal) solution. Complex roots supported. Use 'Evaluate' if you just want to evaluate an expression (without any variables)</p>
<script>
document.getElementById("command").addEventListener("change", function() {
  let expl = this.selectedOptions[0].dataset.expl;
  document.getElementById("explanation").innerText = expl;
});
</script>


<p></p>
<button onclick="doMaths()">Compute</button> 
<label style="font-size: 8px;"><br>Computations (especially the first one or high degree polynomials) may take some time. Please be patient.<br>Your answers will appear below. Click the equation to zoom in.</label>
</div>
<!-- <label>Answers will appear here </label> -->
<div id="output"></div>
<div id="graph" style="width:100%;height:1px;transition:height .4s ease;"></div>
<div id="rawtext" style="width:100%;height:200px;transition:height .4s ease;" hidden="true">
  <label>Plaintext:</label>
  <input id="raw-text" style="display: inline-block;" disabled="true" value="Placeholder"></input>
  <button onclick="copyrawtext()"style="display: inline-block; width:60pt; background:royalblue; color:white" id="copybutton1">Copy</button>
  <label><br>Raw LaTeX: </label><input style="display: inline-block;" id="raw-latex" disabled="true" value="Placeholder"></input>
  <button onclick="copylatex()"style="display: inline-block; width:60pt; background:royalblue; color:white" id="copybutton2">Copy</button>
</div>

</div>



</script>



<p><strong>Syntax tips:</strong><br>1. All trig functions use radians, not degrees<br>2. To do log to any base, type log(x,y) where x is the number you want to log and y is the base. By default, log will use base e (2.71828...)<br>3. To do e^x, you can use the exp(x) function<br>4. Complex roots of polynomials are supported. i represents sqrt(-1). However, complex inputs are not supported!</p>




<p><strong>About this program:</strong><br>This program uses the <a href="https://www.sympy.org/en/index.html">SymPy</a> Python library in your browser using the <a href=https://pyodide.org/en/stable>Pyodide</a> framework to compute mathematical equations. All calculations are done on your browser.</p>
<p><strong>Changelog:</strong><br>Version 0.2.0 (3 Oct 2025) - Added a bunch of features including dark mode, plain text output and a new logo!<br>Version 0.1.3 (2 Oct 2025) - Minor changes<br>Version 0.1.2 (21 Sept 2025) - Added graph function<br>
Version 0.1.1 (25 Sept 2025) - Initial release</p>

<footer>
  <p>Version 0.2.0<br>&copy; 2025 mcexpress. All rights reserved.<br>This program was made for educational purposes only. <strong>DO NOT USE IT TO CHEAT!</strong></p>
</footer>

</body>
</html>
